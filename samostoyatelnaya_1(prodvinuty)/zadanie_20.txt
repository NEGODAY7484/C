#include <iostream>
#include <cmath>
using namespace std;

int main() {
    int n;
    double p, q, qn, p1;
    cout << "Введите количество подводных лодок n: ";
    cin >> n;
    cout << "Введите вероятность попадания торпеды в авианосец p: ";
    cin >> p;
    cout << "Введите вероятность затопления демаскированной подводной лодки кораблями охранения p1: ";
    cin >> p1;
    q = (1 - p) * (1 - p1);
    qn = pow(q, n);
    double P_A = p * (1 - p1) * (1 - qn) / (1 - q);
    cout << "Вероятность затопления авианосца и ухода всех подводных лодок без потерь: " << P_A << endl;
    return 0;
}
